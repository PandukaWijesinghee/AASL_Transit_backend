definitions:
  handlers.ErrorResponse:
    properties:
      code:
        type: string
      error:
        type: string
      message:
        type: string
    type: object
  models.AdminChangePasswordRequest:
    properties:
      new_password:
        minLength: 8
        type: string
      old_password:
        type: string
    required:
    - new_password
    - old_password
    type: object
  models.AdminCreateRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      password:
        minLength: 8
        type: string
    required:
    - email
    - full_name
    - password
    type: object
  models.AdminLoginRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - password
    type: object
  models.AdminLoginResponse:
    properties:
      access_token:
        type: string
      admin_user:
        $ref: '#/definitions/models.AdminUser'
      expires_in:
        type: integer
      refresh_token:
        type: string
    type: object
  models.AdminRefreshRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  models.AdminUser:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      last_login_at:
        type: string
      updated_at:
        type: string
    type: object
  models.BusLayoutPreview:
    properties:
      rows:
        items:
          $ref: '#/definitions/models.BusRow'
        type: array
    type: object
  models.BusRow:
    properties:
      left_seats:
        items:
          $ref: '#/definitions/models.SeatInfo'
        type: array
      right_seats:
        items:
          $ref: '#/definitions/models.SeatInfo'
        type: array
      row_label:
        type: string
      row_number:
        type: integer
    type: object
  models.BusSeatLayoutSeat:
    properties:
      created_at:
        type: string
      id:
        type: string
      is_aisle_seat:
        type: boolean
      is_window_seat:
        type: boolean
      position:
        type: integer
      row_label:
        type: string
      row_number:
        type: integer
      seat_number:
        type: string
      template_id:
        type: string
    type: object
  models.BusSeatLayoutTemplateResponse:
    properties:
      created_at:
        type: string
      created_by:
        type: string
      description:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      layout_preview:
        $ref: '#/definitions/models.BusLayoutPreview'
      seats:
        items:
          $ref: '#/definitions/models.BusSeatLayoutSeat'
        type: array
      template_name:
        type: string
      total_rows:
        type: integer
      total_seats:
        type: integer
      updated_at:
        type: string
    type: object
  models.CreateBusSeatLayoutTemplateRequest:
    properties:
      description:
        type: string
      seat_map:
        description: '2D array: [row][position] true=seat exists'
        items:
          items:
            type: boolean
          type: array
        type: array
      template_name:
        type: string
      total_rows:
        maximum: 20
        minimum: 1
        type: integer
    required:
    - seat_map
    - template_name
    - total_rows
    type: object
  models.SeatInfo:
    properties:
      is_aisle_seat:
        type: boolean
      is_window_seat:
        type: boolean
      position:
        type: integer
      seat_number:
        type: string
    type: object
  models.UpdateBusSeatLayoutTemplateRequest:
    properties:
      description:
        type: string
      is_active:
        type: boolean
      template_name:
        type: string
    type: object
info:
  contact: {}
paths:
  /admin/auth/change-password:
    post:
      consumes:
      - application/json
      description: Change the authenticated admin user's password
      parameters:
      - description: Password change request
        in: body
        name: changePasswordRequest
        required: true
        schema:
          $ref: '#/definitions/models.AdminChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Change admin password
      tags:
      - Admin Auth
  /admin/auth/create:
    post:
      consumes:
      - application/json
      description: Create a new admin user (requires admin authentication)
      parameters:
      - description: Admin creation request
        in: body
        name: createRequest
        required: true
        schema:
          $ref: '#/definitions/models.AdminCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.AdminUser'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new admin user
      tags:
      - Admin Auth
  /admin/auth/list:
    get:
      consumes:
      - application/json
      description: Get a list of all admin users (requires admin authentication)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.AdminUser'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all admin users
      tags:
      - Admin Auth
  /admin/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate admin user and return access and refresh tokens
      parameters:
      - description: Login credentials
        in: body
        name: loginRequest
        required: true
        schema:
          $ref: '#/definitions/models.AdminLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AdminLoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Admin login
      tags:
      - Admin Auth
  /admin/auth/logout:
    post:
      consumes:
      - application/json
      description: Revoke the refresh token
      parameters:
      - description: Refresh token
        in: body
        name: refreshRequest
        required: true
        schema:
          $ref: '#/definitions/models.AdminRefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Admin logout
      tags:
      - Admin Auth
  /admin/auth/profile:
    get:
      consumes:
      - application/json
      description: Get the authenticated admin user's profile
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AdminUser'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get admin profile
      tags:
      - Admin Auth
  /admin/auth/refresh:
    post:
      consumes:
      - application/json
      description: Generate a new access token using a refresh token
      parameters:
      - description: Refresh token
        in: body
        name: refreshRequest
        required: true
        schema:
          $ref: '#/definitions/models.AdminRefreshRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AdminLoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Refresh access token
      tags:
      - Admin Auth
  /api/v1/admin/seat-layouts:
    get:
      description: Get a list of all seat layout templates, optionally filtered by
        active status
      parameters:
      - description: Filter for active templates only
        in: query
        name: active_only
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of templates with count
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all seat layout templates
      tags:
      - Seat Layouts
    post:
      consumes:
      - application/json
      description: Create a new bus seat layout template with seat configuration
      parameters:
      - description: Seat layout template details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateBusSeatLayoutTemplateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.BusSeatLayoutTemplateResponse'
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new seat layout template
      tags:
      - Seat Layouts
  /api/v1/admin/seat-layouts/{id}:
    delete:
      description: Soft delete a seat layout template (marks as inactive)
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Deletion success message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid template ID
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Template not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete a seat layout template
      tags:
      - Seat Layouts
    get:
      description: Get details of a specific seat layout template by ID
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.BusSeatLayoutTemplateResponse'
        "400":
          description: Invalid template ID
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Template not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get a seat layout template
      tags:
      - Seat Layouts
    put:
      consumes:
      - application/json
      description: Update basic information of a seat layout template
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: string
      - description: Update details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.UpdateBusSeatLayoutTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.BusSeatLayoutTemplateResponse'
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Template not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update a seat layout template
      tags:
      - Seat Layouts
  /api/v1/scheduled-trips/{id}/assign-seat-layout:
    patch:
      consumes:
      - application/json
      description: Assign a seat layout template to a scheduled trip (bus owner only)
      parameters:
      - description: Scheduled Trip ID
        in: path
        name: id
        required: true
        type: string
      - description: Seat layout assignment (seat_layout_id)
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Assignment success message
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - not owner
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Trip not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Assign seat layout to scheduled trip
      tags:
      - Scheduled Trips
swagger: "2.0"
