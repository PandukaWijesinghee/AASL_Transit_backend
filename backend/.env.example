# ============================================================================
# SMS Authentication Backend - Environment Variables
# ============================================================================

# ============================================================================
# Database Configuration (Supabase PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres
DATABASE_MAX_CONNECTIONS=10
DATABASE_MAX_IDLE_CONNECTIONS=5
DATABASE_CONN_MAX_LIFETIME=300

# ============================================================================
# JWT Configuration
# ============================================================================
JWT_SECRET=e62a64b4f14af3e88e47540553b52dce52156301a11c5361132a389d27998b7d
JWT_REFRESH_SECRET=1c805aa0250ca0ab0bbc2383b8536a9a450554a44410b73bb13fc3053c4a7533
JWT_ACCESS_TOKEN_EXPIRY=3600        # 1 hour in seconds
JWT_REFRESH_TOKEN_EXPIRY=604800     # 7 days in seconds

# ============================================================================
# Dialog SMS Gateway Configuration
# ============================================================================
# SMS Mode: "dev" (no actual SMS, OTP in response) or "production" (real SMS via Dialog)
SMS_MODE=production

# Dialog SMS Method: "url" (GET request with esmsqk key) or "api_v2" (POST with username/password)
# Use "url" method as it's more reliable and doesn't require the /api/v2/login endpoint
DIALOG_SMS_METHOD=url

# Dialog eSMS URL Method Configuration (Recommended)
# Get your esmsqk key from: https://e-sms.dialog.lk (URL Message Key section)
DIALOG_SMS_ESMSQK=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NzI2OSwiY3VzdG9tZXJfcm9sZSI6MCwiaWF0IjoxNzYxMjkzMTcxLCJleHAiOjQ4ODU0OTU1NzF9.wGg7hN7CczGQMcuHJ9hLovTccgJK79injwhg7laBqro
DIALOG_SMS_MASK=KanchTest

# Dialog eSMS API v2 Configuration (Alternative - requires /api/v2/login access)
DIALOG_SMS_API_URL=https://e-sms.dialog.lk/api/v2
DIALOG_SMS_USERNAME=kanchanadesilva
DIALOG_SMS_PASSWORD=Dialog@123













# Deprecated (kept for backward compatibility)
DIALOG_SMS_API_KEY=your-dialog-api-key-here
DIALOG_SMS_SENDER_ID=SmartTransit

# ============================================================================
# Application Configuration
# ============================================================================
PORT=8080
GIN_MODE=debug                      # debug, release, test
LOG_LEVEL=info                      # debug, info, warn, error
ENVIRONMENT=development             # development, staging, production

# ============================================================================
# OTP Configuration
# ============================================================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT=3                    # Max OTP requests per window
OTP_RATE_WINDOW_MINUTES=10

# ============================================================================
# SMS Auto-Read Configuration (Android)
# ============================================================================
# App signature hash for SMS auto-read feature
# Get this by running: flutter run -t lib/get_app_hash.dart
# Format: 11-character hash (e.g., FA+9qCX9VSu)
DRIVER_APP_HASH=Yhr+pPC1+tw
PASSENGER_APP_HASH=P4m/VJkG0UX

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
RATE_LIMIT_REQUESTS=100             # Max requests per window
RATE_LIMIT_WINDOW_SECONDS=60        # Window duration

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ============================================================================
# Security
# ============================================================================
BCRYPT_COST=12
ENABLE_REQUEST_LOGGING=true
ENABLE_AUDIT_LOGGING=true

# ============================================================================
# Monitoring (Optional)
# ============================================================================
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=